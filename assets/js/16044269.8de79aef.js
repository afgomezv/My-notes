"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4587],{2003:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var r=n(4848),o=n(8453);const t={sidebar_position:5},a="Base de datos",c={id:"express/base-de-datos",title:"Base de datos",description:"async code",source:"@site/backend/express/base-de-datos.md",sourceDirName:"express",slug:"/express/base-de-datos",permalink:"/my-notes/backend/express/base-de-datos",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Templates",permalink:"/my-notes/backend/express/templates"}},i={},d=[{value:"async code",id:"async-code",level:2},{value:"Bases de Datos",id:"bases-de-datos",level:2}];function l(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"base-de-datos",children:"Base de datos"}),"\n",(0,r.jsx)(s.h2,{id:"async-code",children:"async code"}),"\n",(0,r.jsx)(s.p,{children:"Node nos permite consultar datos de otro servido o bases de datos, para esto se necesita modulos externos ejemplo axios, tambien puedes utilizar fetch."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"npm i axios\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"async code",src:n(745).A+"",title:"async code",width:"864",height:"413"})}),"\n",(0,r.jsxs)(s.p,{children:["El siguiente codigo realiza la consulta en otro servidor (",(0,r.jsx)(s.em,{children:"placeholder"}),")"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:'const { Router } = require("express");\r\nconst axios = require("axios");\r\n\r\nconst router = Router();\r\n\r\nrouter.get("/posts", async (req, res) => {\r\n  const response = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/posts"\r\n  );\r\n  //console.log(response.data);\r\n  res.render("posts", {\r\n    posts: response.data,\r\n  });\r\n});\r\n\r\nmodule.exports = router;\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Los datos traidos desde servido (placeholder) se convierte en un formato ",(0,r.jsx)(s.em,{children:"ejs"}),". en nuestro servidor y se presenta al cliente en un archivo ",(0,r.jsx)(s.em,{children:"HTML"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-html",children:"<%- include('partials/header'); %>\r\n\r\n<h1>Posts</h1>\r\n<% for(let i = 0; i < posts.length; i++) { %>\r\n\r\n<article>\r\n  <h1><%=posts[i].title %></h1>\r\n  <p><%=posts[i].body %></p>\r\n</article>\r\n\r\n<% } %>\r\n<h3>Fin</h3>\r\n<%- include('partials/footer'); %>\n"})}),"\n",(0,r.jsx)(s.h2,{id:"bases-de-datos",children:"Bases de Datos"}),"\n",(0,r.jsx)(s.p,{children:"Vamos a realizas una conexion a una base de datos mysql (relacional) y utilizar el modulo mysql"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"npm i mysql2\n"})}),"\n",(0,r.jsx)(s.p,{children:"db.js"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:'const mysql = require("mysql2/promise");\r\n\r\nasync function connectDB() {\r\n  const connection = await mysql.createConnection({\r\n    host: "us-east.connect.psdb.cloud",\r\n    user: "user_one",\r\n    password: "secret_password",\r\n    database: "expressframework",\r\n    ssl: {\r\n      rejectUnauthorized: false,\r\n    },\r\n  });\r\n\r\n  const result = await connection.query(\'SELECT "Hello World" AS Result\');\r\n  console.log(result);\r\n}\r\n\r\nmodule.exports = connectDB;\n'})}),"\n",(0,r.jsx)(s.p,{children:"Se coloca antes comenzar la aplicaci\xf3n"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:'const connectDB = require("./db");\r\n\r\nconnectDB();\n'})})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},745:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/imagen06-1214f021837949bc5146b1ccbdfff575.jpg"},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>c});var r=n(6540);const o={},t=r.createContext(o);function a(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);